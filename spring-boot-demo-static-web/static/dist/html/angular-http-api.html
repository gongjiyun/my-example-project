<!doctype html>
<html ng-app="myApp">
<head>
<meta charset="UTF-8">
<script src="../js/angular.js"></script>
</head>
<body>
	<script type="text/javascript">
		var app = angular.module('myApp', []);
	</script>
	<h1>获取user信息</h1>
	<div ng-controller="datalistController">
		<li ng-repeat="user in users" ng-class="{even: !$even, odd: !$odd}">
			<span>名字:{{user.name}}</span>
			<br>
			<span>邮件:{{user.email}}</span>
			<ul ng-repeat="addr in user.addressList" ng-class="{even: !$even, odd: !$odd}">
				<span>city:{{addr.city}}</span>
				<br>
				<span>stress:{{addr.street}}</span>
			</ul>		
		</li>

		<script type="text/javascript">
			app.controller('datalistController', function($scope, $http){
				$http({
					method : 'POST',
					url : '/api/listAllUsers'
				}).success(function(data) {
					$scope.users = data;
					//$scope.addressList=data[0].addressList;
				}).error(function(data) {
					console.log('error');
				});
			});
		</script>
	</div>
</body>
</html>